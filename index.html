<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Tester - Test your APIs with ease</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <!-- Highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/github.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="bg-dark text-white py-3">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <h1><i class="bi bi-braces"></i> API Tester</h1>
                <div>
                    <button id="clearBtn" class="btn btn-outline-light" title="Clear Form">
                        <i class="bi bi-trash"></i> Clear
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container my-4">
        <div class="row">
            <!-- Request Section -->
            <div class="col-lg-6 mb-4">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h3 class="card-title mb-0">Request</h3>
                    </div>
                    <div class="card-body">
                        <form id="apiForm" novalidate>
                            <!-- URL Input -->
                            <div class="mb-3">
                                <label for="urlInput" class="form-label">URL <span class="text-danger">*</span></label>
                                <div class="input-group">
                                    <select class="form-select" id="methodSelect" style="max-width: 130px;" required>
                                        <option value="GET">GET</option>
                                        <option value="POST">POST</option>
                                        <option value="PUT">PUT</option>
                                        <option value="DELETE">DELETE</option>
                                        <option value="PATCH">PATCH</option>
                                        <option value="HEAD">HEAD</option>
                                        <option value="OPTIONS">OPTIONS</option>
                                    </select>
                                    <input type="url" class="form-control" id="urlInput" placeholder="https://api.example.com/endpoint" required>
                                    <div class="invalid-feedback">Please enter a valid URL</div>
                                </div>
                            </div>

                            <!-- Request Configuration Tabs -->
                            <ul class="nav nav-tabs" id="requestTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="headers-tab" data-bs-toggle="tab" data-bs-target="#headers" type="button" role="tab" aria-controls="headers" aria-selected="true">Headers</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="params-tab" data-bs-toggle="tab" data-bs-target="#params" type="button" role="tab" aria-controls="params" aria-selected="false">Query Params</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="body-tab" data-bs-toggle="tab" data-bs-target="#body" type="button" role="tab" aria-controls="body" aria-selected="false">Body</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="auth-tab" data-bs-toggle="tab" data-bs-target="#auth" type="button" role="tab" aria-controls="auth" aria-selected="false">Auth</button>
                                </li>
                            </ul>

                            <!-- Tab Content -->
                            <div class="tab-content p-3 border border-top-0 rounded-bottom mb-3" id="requestTabsContent">
                                <!-- Headers Tab -->
                                <div class="tab-pane fade show active" id="headers" role="tabpanel" aria-labelledby="headers-tab">
                                    <div id="headerParams">
                                        <div class="row header-param-row mb-2">
                                            <div class="col-5">
                                                <input type="text" class="form-control header-key" placeholder="Key">
                                            </div>
                                            <div class="col-5">
                                                <input type="text" class="form-control header-value" placeholder="Value">
                                            </div>
                                            <div class="col-2">
                                                <button type="button" class="btn btn-outline-danger remove-param">
                                                    <i class="bi bi-x"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-outline-secondary mt-2" id="addHeaderBtn">
                                        <i class="bi bi-plus"></i> Add Header
                                    </button>
                                </div>

                                <!-- Query Params Tab -->
                                <div class="tab-pane fade" id="params" role="tabpanel" aria-labelledby="params-tab">
                                    <div id="queryParams">
                                        <div class="row query-param-row mb-2">
                                            <div class="col-5">
                                                <input type="text" class="form-control query-key" placeholder="Key">
                                            </div>
                                            <div class="col-5">
                                                <input type="text" class="form-control query-value" placeholder="Value">
                                            </div>
                                            <div class="col-2">
                                                <button type="button" class="btn btn-outline-danger remove-param">
                                                    <i class="bi bi-x"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-outline-secondary mt-2" id="addQueryBtn">
                                        <i class="bi bi-plus"></i> Add Param
                                    </button>
                                </div>

                                <!-- Request Body Tab -->
                                <div class="tab-pane fade" id="body" role="tabpanel" aria-labelledby="body-tab">
                                    <div class="mb-3">
                                        <select class="form-select mb-2" id="contentTypeSelect">
                                            <option value="application/json">JSON</option>
                                            <option value="application/x-www-form-urlencoded">Form URL Encoded</option>
                                            <option value="multipart/form-data">Form Data</option>
                                            <option value="text/plain">Raw Text</option>
                                            <option value="application/xml">XML</option>
                                        </select>
                                        <div id="jsonBodyContainer" class="body-container active">
                                            <textarea class="form-control" id="jsonBodyInput" rows="7" placeholder='{"key": "value"}'></textarea>
                                            <div class="invalid-feedback" id="jsonBodyError">Please enter valid JSON</div>
                                        </div>
                                        <div id="formBodyContainer" class="body-container">
                                            <div id="formParams">
                                                <div class="row form-param-row mb-2">
                                                    <div class="col-5">
                                                        <input type="text" class="form-control form-key" placeholder="Key">
                                                    </div>
                                                    <div class="col-5">
                                                        <input type="text" class="form-control form-value" placeholder="Value">
                                                    </div>
                                                    <div class="col-2">
                                                        <button type="button" class="btn btn-outline-danger remove-param">
                                                            <i class="bi bi-x"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <button type="button" class="btn btn-outline-secondary mt-2" id="addFormBtn">
                                                <i class="bi bi-plus"></i> Add Field
                                            </button>
                                        </div>
                                        <div id="textBodyContainer" class="body-container">
                                            <textarea class="form-control" id="textBodyInput" rows="7" placeholder="Text content"></textarea>
                                        </div>
                                        <div id="xmlBodyContainer" class="body-container">
                                            <textarea class="form-control" id="xmlBodyInput" rows="7" placeholder="<root>\n  <element>value</element>\n</root>"></textarea>
                                        </div>
                                    </div>
                                </div>

                                <!-- Auth Tab -->
                                <div class="tab-pane fade" id="auth" role="tabpanel" aria-labelledby="auth-tab">
                                    <div class="mb-3">
                                        <label for="authTypeSelect" class="form-label">Authentication Type</label>
                                        <select class="form-select" id="authTypeSelect">
                                            <option value="none">No Auth</option>
                                            <option value="basic">Basic Auth</option>
                                            <option value="bearer">Bearer Token</option>
                                            <option value="apiKey">API Key</option>
                                        </select>
                                    </div>

                                    <div id="basicAuthInputs" class="auth-input-group">
                                        <div class="mb-3">
                                            <label for="usernameInput" class="form-label">Username</label>
                                            <input type="text" class="form-control" id="usernameInput">
                                        </div>
                                        <div class="mb-3">
                                            <label for="passwordInput" class="form-label">Password</label>
                                            <input type="password" class="form-control" id="passwordInput">
                                        </div>
                                    </div>

                                    <div id="bearerAuthInputs" class="auth-input-group">
                                        <div class="mb-3">
                                            <label for="tokenInput" class="form-label">Token</label>
                                            <input type="text" class="form-control" id="tokenInput">
                                        </div>
                                    </div>

                                    <div id="apiKeyAuthInputs" class="auth-input-group">
                                        <div class="mb-3">
                                            <label for="apiKeyName" class="form-label">Key Name</label>
                                            <input type="text" class="form-control" id="apiKeyName">
                                        </div>
                                        <div class="mb-3">
                                            <label for="apiKeyValue" class="form-label">Value</label>
                                            <input type="text" class="form-control" id="apiKeyValue">
                                        </div>
                                        <div class="mb-3">
                                            <label for="apiKeyLocation" class="form-label">Add to</label>
                                            <select class="form-select" id="apiKeyLocation">
                                                <option value="header">Header</option>
                                                <option value="query">Query Parameter</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <div class="d-grid">
                                <button type="submit" id="sendRequestBtn" class="btn btn-success">
                                    <i class="bi bi-send"></i> Send Request
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Response Section -->
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <div class="d-flex justify-content-between align-items-center">
                            <h3 class="card-title mb-0">Response</h3>
                            <div id="responseStatus"></div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="loadingResponse" class="text-center py-5 d-none">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <p class="mt-2">Sending request...</p>
                        </div>

                        <div id="responseDetails" class="d-none">
                            <!-- Response Metadata -->
                            <div class="d-flex justify-content-between mb-2 small">
                                <div><strong>Status:</strong> <span id="responseStatusText"></span></div>
                                <div><strong>Time:</strong> <span id="responseTime"></span></div>
                                <div><strong>Size:</strong> <span id="responseSize"></span></div>
                            </div>

                            <!-- Response Tabs -->
                            <ul class="nav nav-tabs" id="responseTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="response-body-tab" data-bs-toggle="tab" data-bs-target="#responseBody" type="button" role="tab" aria-controls="responseBody" aria-selected="true">Body</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="response-headers-tab" data-bs-toggle="tab" data-bs-target="#responseHeaders" type="button" role="tab" aria-controls="responseHeaders" aria-selected="false">Headers</button>
                                </li>
                            </ul>

                            <!-- Response Tab Content -->
                            <div class="tab-content p-3 border border-top-0 rounded-bottom" id="responseTabsContent">
                                <!-- Response Body Tab -->
                                <div class="tab-pane fade show active" id="responseBody" role="tabpanel" aria-labelledby="response-body-tab">
                                    <div class="mb-2">
                                        <div class="btn-group btn-group-sm" role="group">
                                            <button type="button" class="btn btn-outline-secondary active" id="prettyBtn">Pretty</button>
                                            <button type="button" class="btn btn-outline-secondary" id="rawBtn">Raw</button>
                                        </div>
                                        <button type="button" class="btn btn-sm btn-outline-secondary ms-2" id="copyResponseBtn">
                                            <i class="bi bi-clipboard"></i> Copy
                                        </button>
                                    </div>
                                    <div id="responseBodyPretty" class="border rounded p-3 bg-light overflow-auto" style="max-height: 400px;">
                                        <pre><code id="responseBodyCode"></code></pre>
                                    </div>
                                    <div id="responseBodyRaw" class="border rounded p-3 bg-light overflow-auto d-none" style="max-height: 400px;">
                                        <pre id="responseBodyText"></pre>
                                    </div>
                                </div>

                                <!-- Response Headers Tab -->
                                <div class="tab-pane fade" id="responseHeaders" role="tabpanel" aria-labelledby="response-headers-tab">
                                    <table class="table table-sm">
                                        <thead>
                                            <tr>
                                                <th>Header</th>
                                                <th>Value</th>
                                            </tr>
                                        </thead>
                                        <tbody id="responseHeadersTable">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div id="emptyResponse" class="text-center py-5">
                            <i class="bi bi-info-circle text-muted" style="font-size: 2rem;"></i>
                            <p class="mt-2 text-muted">No response yet. Send a request to see results.</p>
                        </div>

                        <div id="errorResponse" class="d-none">
                            <div class="alert alert-danger">
                                <h4 class="alert-heading"><i class="bi bi-exclamation-triangle"></i> Error</h4>
                                <p id="errorResponseMessage"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-light text-center text-muted py-3">
        <div class="container">
            <p class="mb-0">API Tester &copy; 2023 - A simple tool to test your APIs with ease</p>
        </div>
    </footer>

    <!-- Bootstrap 5 Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Highlight.js for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/languages/json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/languages/xml.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="js/app.js"></script>
</body>
</html>